#include <stdio.h>
#include <stdlib.h>
#include <string.h>
void createFile() {
    FILE *fp = fopen("data.txt", "w");
    if (fp == NULL) {
        printf("Error: Unable to create file.\n");
        return;
    }
    printf("File created successfully.\n");
    fclose(fp);
}
void writeFile() {
    FILE *fp = fopen("data.txt", "a");
    if (fp == NULL) {
        printf("Error: Could not open file for writing.\n");
        return;
    }
    char text[100];
    printf("Enter text to write into file: ");
    getchar();
    fgets(text, sizeof(text), stdin);
    fprintf(fp, "%s", text);
    printf("Data written to file.\n");
    fclose(fp);
}
void readFile() {
    FILE *fp = fopen("data.txt", "r");
    if (fp == NULL) {
        printf("Error: File not found!\n");
        return;
    }
    char ch;
    printf("\nContents of file:\n");
    while ((ch = fgetc(fp)) != EOF) {
        printf("%c", ch);
    }
    printf("\n");
    fclose(fp);
}
void appendFile() {
    FILE *fp = fopen("data.txt", "a");
    if (fp == NULL) {
        printf("Error: Could not open file to append.\n");
        return;
    }
    char text[100];
    printf("Enter text to append: ");
    getchar(); // clear buffer
    fgets(text, sizeof(text), stdin);
    fprintf(fp, "%s", text);
    printf("Data appended.\n");
    fclose(fp);
}
void deleteFile() {
    if (remove("data.txt") == 0)
        printf("File deleted successfully.\n");
    else
        printf("Error deleting the file.\n");
}
void renameFile() {
    if (rename("data.txt", "newdata.txt") == 0)
        printf("File renamed to newdata.txt\n");
    else
        printf("Error renaming file.\n");
}
int main() {
    int choice;
    do {
        printf("\n===== FILE MANAGEMENT MENU =====\n");
        printf("1. Create File\n");
        printf("2. Write to File\n");
        printf("3. Read File\n");
        printf("4. Append to File\n");
        printf("5. Delete File\n");
        printf("6. Rename File\n");
        printf("0. Exit\n");
        printf("Enter your choice: ");
        scanf("%d", &choice);
        switch (choice) {
            case 1: createFile(); break;
            case 2: writeFile(); break;
            case 3: readFile(); break;
            case 4: appendFile(); break;
            case 5: deleteFile(); break;
            case 6: renameFile(); break;
            case 0: printf("Exiting...\n"); break;
            default: printf("Invalid choice!\n");
        }
    } while (choice != 0);
    return 0;
}
